{{define "content"}}
    <div class="list-group">
        {{range $k, $val := .PageQuery.Value}}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <a href="/post/{{$val.ID}}/"> {{$val.Title}}</a>
            <a href="/post/delete/{{$val.ID}}/"><span class="badge badge-primary badge-pill"><i class="fas fa-trash-alt"></i></span></a>
        </li>
        {{end}}
    </div>
    <a href="/post/create/" class="btn btn-primary mt-3 d-none" id="createPost">Create Post</a>
    <a href="/user/sign-in/" id="signIn" class="btn btn-primary mt-3 d-none">Sign In</a>
    <a href="#" id="signOut" class="btn btn-primary mt-3 d-none">Sign Out</a>
{{end}}

{{define "script"}}
<script>

    firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
            $("#signOut").removeClass("d-none");
            $("#createPost").removeClass("d-none");
        }else {
            $("#signIn").removeClass("d-none");
            $("#signOut").addClass("d-none");
            $("#createPost").addClass("d-none");
        }
    });

    $("#signOut").click(function (event) {
        firebase.auth().signOut().then(function() {
        }).catch(function(error) {
        });
    })
</script>

{{end}}